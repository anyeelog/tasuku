!function(){function e(e,t,n){const o=document.querySelector(".alerts");o&&o.remove();const s=document.createElement("UL");s.classList.add("alerts"),s.innerHTML=`<li class="alert ${t}">${e}</li>`,n.parentElement.insertBefore(s,n)}document.querySelector("#add-task").addEventListener("click",(function(){const t=document.createElement("DIV");t.classList.add("modal"),t.innerHTML='\n      <div class="form-container">\n        <p class="page-description">Add a new task</p>\n        <p style="padding: 0 50px;">Don\'t worry! Enter your email address and we\'ll send you a reset link.</p>\n        <form class="form form-task">\n          <div class="camp">\n            <input type="text" name="task" id="task" placeholder="Task title">\n          </div>\n          <div class="camp">\n            <input type="text" name="project-select" id="project-select" placeholder="Select project">\n          </div>\n          <div class="options">\n            <input type="submit" class="submit-new-task" value="Add task">\n            <button type="button" class="close-modal">Cancel</button>\n          </div>\n        </form>\n      </div>\n    ',setTimeout(()=>{document.querySelector(".form-container").classList.add("animate")},0),t.addEventListener("click",(function(n){n.preventDefault(),n.target.classList.contains("close-modal")&&t.remove(),n.target.classList.contains("submit-new-task")&&function(){const t=document.querySelector("#task").value.trim();document.querySelector("#project-select").value.trim();if(""===t)return void e("Task name is required","error",document.querySelector(".options"));!async function(t){const n=new FormData;n.append("name",t),n.append("project_id",function(){const e=new URLSearchParams(window.location.search);return Object.fromEntries(e.entries()).id}());try{const t="http://localhost:3000/api/task",o=await fetch(t,{method:"POST",body:n}),s=await o.json();if(e(s.message,s.type,document.querySelector(".options")),"success"===s.type){document.querySelector(".modal").remove()}}catch(e){console.log(e)}}(t)}()})),document.querySelector("body").appendChild(t)}))}();